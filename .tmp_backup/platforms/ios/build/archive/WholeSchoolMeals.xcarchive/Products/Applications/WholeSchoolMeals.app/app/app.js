/*
In NativeScript, the app.ts file is the entry point to your application.
You can use this file to perform app-level initialization, but the primary
purpose of the file is to pass control to the appâ€™s first module.
*/
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("./bundle-config");
var app = require("application");
var application_settings_1 = require("application-settings");
var models_1 = require("./shared/models");
var nativescript_image_cache_1 = require("nativescript-image-cache");
// Initialize image caching (Android only)
if (app.android) {
    app.on("launch", function () {
        nativescript_image_cache_1.initialize();
    });
}
// Make sure at least one school has previously been selected (i.e. is this the first use of the app?)
var hasSchools = application_settings_1.hasKey(models_1.Config.appSettings_mySchools);
if (!hasSchools) {
    app.start({ moduleName: 'views/schools/schools' });
}
else {
    app.start({ moduleName: 'views/main/main' });
}
/*
Do not place any code after the application has been started as it will not
be executed on iOS.
*/ 
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0VBSUU7OztBQUVGLDJCQUF5QjtBQUN6QixpQ0FBbUM7QUFDbkMsNkRBQXFEO0FBQ3JELDBDQUF5QztBQUN6QyxxRUFBc0Q7QUFFdEQsMENBQTBDO0FBQzFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQ2hCLEdBQUcsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFO1FBQ2YscUNBQVUsRUFBRSxDQUFDO0lBQ2YsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBRUQsc0dBQXNHO0FBQ3RHLElBQUksVUFBVSxHQUFHLDZCQUFNLENBQUMsZUFBTSxDQUFDLHFCQUFxQixDQUFDLENBQUM7QUFDdEQsRUFBRSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0lBQ2QsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLFVBQVUsRUFBRSx1QkFBdUIsRUFBRSxDQUFDLENBQUM7QUFDdkQsQ0FBQztBQUFDLElBQUksQ0FBQyxDQUFDO0lBQ0osR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLFVBQVUsRUFBRSxpQkFBaUIsRUFBRSxDQUFDLENBQUM7QUFDakQsQ0FBQztBQUVEOzs7RUFHRSIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5JbiBOYXRpdmVTY3JpcHQsIHRoZSBhcHAudHMgZmlsZSBpcyB0aGUgZW50cnkgcG9pbnQgdG8geW91ciBhcHBsaWNhdGlvbi5cbllvdSBjYW4gdXNlIHRoaXMgZmlsZSB0byBwZXJmb3JtIGFwcC1sZXZlbCBpbml0aWFsaXphdGlvbiwgYnV0IHRoZSBwcmltYXJ5XG5wdXJwb3NlIG9mIHRoZSBmaWxlIGlzIHRvIHBhc3MgY29udHJvbCB0byB0aGUgYXBw4oCZcyBmaXJzdCBtb2R1bGUuXG4qL1xuXG5pbXBvcnQgXCIuL2J1bmRsZS1jb25maWdcIjtcbmltcG9ydCAqIGFzIGFwcCBmcm9tICdhcHBsaWNhdGlvbic7XG5pbXBvcnQgeyBoYXNLZXksIGNsZWFyIH0gZnJvbSBcImFwcGxpY2F0aW9uLXNldHRpbmdzXCI7XG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICcuL3NoYXJlZC9tb2RlbHMnO1xuaW1wb3J0IHsgaW5pdGlhbGl6ZSB9IGZyb20gXCJuYXRpdmVzY3JpcHQtaW1hZ2UtY2FjaGVcIjtcblxuLy8gSW5pdGlhbGl6ZSBpbWFnZSBjYWNoaW5nIChBbmRyb2lkIG9ubHkpXG5pZiAoYXBwLmFuZHJvaWQpIHtcbiAgYXBwLm9uKFwibGF1bmNoXCIsICgpID0+IHtcbiAgICBpbml0aWFsaXplKCk7XG4gIH0pO1xufVxuXG4vLyBNYWtlIHN1cmUgYXQgbGVhc3Qgb25lIHNjaG9vbCBoYXMgcHJldmlvdXNseSBiZWVuIHNlbGVjdGVkIChpLmUuIGlzIHRoaXMgdGhlIGZpcnN0IHVzZSBvZiB0aGUgYXBwPylcbnZhciBoYXNTY2hvb2xzID0gaGFzS2V5KENvbmZpZy5hcHBTZXR0aW5nc19teVNjaG9vbHMpO1xuaWYgKCFoYXNTY2hvb2xzKSB7XG4gICAgYXBwLnN0YXJ0KHsgbW9kdWxlTmFtZTogJ3ZpZXdzL3NjaG9vbHMvc2Nob29scycgfSk7XG59IGVsc2Uge1xuICAgIGFwcC5zdGFydCh7IG1vZHVsZU5hbWU6ICd2aWV3cy9tYWluL21haW4nIH0pO1xufVxuXG4vKlxuRG8gbm90IHBsYWNlIGFueSBjb2RlIGFmdGVyIHRoZSBhcHBsaWNhdGlvbiBoYXMgYmVlbiBzdGFydGVkIGFzIGl0IHdpbGwgbm90XG5iZSBleGVjdXRlZCBvbiBpT1MuXG4qLyJdfQ==